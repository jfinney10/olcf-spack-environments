# OLCF Peak Spack Environment

spack:
  #############################################################################
  definitions:
  - core_compiler:
    - '%gcc@8.3.1'
  specs:
  - python%gcc@8.3.1
  - clingo@spack%gcc@8.3.1
  mirrors:
    facility_builds: /sw/peak/spack-envs/mirrors/builds
  repos:
  - ${FACSPACK_CONF_COMMON}/spack/repos/olcf
  #############################################################################
  packages:
    lsf:
      version: [10.1.0.10]
      buildable: false
      externals:
      - spec: lsf@10.1.0.10
        prefix: /opt/ibm/spectrumcomputing/lsf/10.1.0.10
      target: []
      compiler: []
      providers: {}
    hcoll:
      buildable: false
      version: [4.4]
      externals:
      - spec: hcoll@4.4
        prefix: /opt/mellanox/hcoll
      target: []
      compiler: []
      providers: {}
    knem:
      buildable: false
      version: [1.1.3]
      externals:
      - spec: knem@1.1.3
        prefix: /opt/knem-1.1.3.90mlnx1
      target: []
      compiler: []
      providers: {}
    go-bootstrap:
      buildable: false
      version: [1.7.1-bootstrap]
      externals:
      - spec: go-bootstrap@1.7.1-bootstrap
        prefix: /sw/peak/go/1.7.1-bootstrap
      target: []
      providers: {}
      compiler: []
    gtkplus:
      version: [3.22.30, 2.24.32]
      buildable: false
      externals:
      - spec: gtkplus@2.24.32
        prefix: /usr
      - spec: gtkplus@3.22.30
        prefix: /usr
      target: []
      providers: {}
      compiler: []
    openssl:
      buildable: false
      version: [1.1.1]
      externals:
      - spec: openssl@1.1.1
        prefix: /usr
      target: []
      providers: {}
      compiler: []
    all:
      compiler: [gcc@8.3.1]
      providers:
        mpi: [olcf.spectrum-mpi]
        lapack: [netlib-lapack]
        blas: [netlib-lapack]
        scalapack: [netlib-scalapack]
      buildable: true
      version: []
      target: [ppc64le]
  view: false
  modules:
    enable:
    - lmod
    lmod:
      core_compilers: [gcc@8.3.1]
      blacklist_implicits: true
      verbose: true
      whitelist: []
      blacklist: []
      hierarchy: []
      projections: {}
      hash_length: 0
      all:
        filter:
          environment_blacklist: []
        conflict: []
        load: []
        environment:
          unset: []
      core_specs: []
  config:
    install_tree:
      root: ${FACSPACK_ENV}/opt
      projections:
        all: ${ARCHITECTURE}/${COMPILERNAME}-${COMPILERVER}/${PACKAGE}-${VERSION}-${HASH}
    module_roots:
      tcl: ${FACSPACK_ENV_MODULEROOT}/flat
      lmod: ${FACSPACK_ENV_MODULEROOT}/spack
    template_dirs:
    - ${FACSPACK_CONF_HOST}/templates
    - ${FACSPACK_CONF_COMMON}/spack/templates
    - $spack/share/spack/templates
    build_stage:
    - $tempdir/$user/spack-stage
    - $spack/var/spack/stage
    source_cache: ${FACSPACK_CONF_COMMON}/mirrors/sources
    extensions:
    - /sw/sources/facspack/share/spack/extensions/spack-olcf
    misc_cache: ${FACSPACK_ENV}/.mcache
    verify_ssl: true
    install_missing_compilers: false
    checksum: true
    dirty: false
    build_language: C
    build_jobs: 6
    ccache: false
    db_lock_timeout: 120
    package_lock_timeout:
    shared_linking: rpath
    allow_sgid: true
    concretizer: original
    locks: true
    suppress_gpg_warnings: false
    connect_timeout: 10
    test_stage: ~/.spack/test
  concretization: separately
  compilers:
  - compiler:
      spec: gcc@8.3.1
      operating_system: rhel8
      modules: []
      paths:
        cc: /usr/bin/gcc
        cxx: /usr/bin/g++
        f77: /usr/bin/gfortran
        fc: /usr/bin/gfortran
      extra_rpaths: []
      environment: {unset: []}
      flags: {}
